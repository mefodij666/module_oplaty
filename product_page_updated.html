<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PROGASI Palma 250 - АМОТО в Минске</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nouislider@14.6.3/distribute/nouislider.min.css">
    <script src="https://cdn.jsdelivr.net/npm/nouislider@14.6.3/distribute/nouislider.min.js"></script>
    <style>
        :root {
            --main-blue: #085cfc;
            --light-blue: #085cfc1a;
            --hover-blue: #0046c7;
            --light-hover-blue: #d9e8ff;
            --border-radius: 8px;
            --border-color: #e5e5e5;
            --text-color: #333;
            --text-gray: #666;
            --light-gray: #f5f5f7;
            --purple: #b818fc;
            --light-purple: rgba(184, 24, 252, 0.1);
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            color: var(--text-color);
            background-color: #f5f5f7;
            line-height: 1.5;
        }
        
        .wrapper {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .product-card {
            background-color: #fff;
            border-radius: var(--border-radius);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .product-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }
        
        .product-badges {
            display: flex;
            gap: 8px;
            margin-bottom: 8px;
        }
        
        .product-badge {
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
            text-transform: uppercase;
        }
        
        .product-badge-hit {
            background-color: #ff5252;
            color: white;
        }
        
        .product-badge-new {
            background-color: #4caf50;
            color: white;
        }
        
        .product-title {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .product-meta {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
            color: var(--text-gray);
            font-size: 14px;
        }
        
        .product-rating {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .product-article {
            color: var(--text-gray);
        }
        
        .product-content {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 20px;
        }
        
        .product-gallery {
            max-width: 500px;
        }
        
        .product-image {
            width: 100%;
            height: auto;
            border-radius: var(--border-radius);
            margin-bottom: 10px;
        }
        
        .product-colors {
            margin-bottom: 20px;
        }
        
        .color-title {
            font-size: 14px;
            margin-bottom: 10px;
        }
        
        .color-options {
            display: flex;
            gap: 10px;
        }
        
        .color-option {
            width: 40px;
            height: 40px;
            border-radius: 5px;
            border: 2px solid var(--border-color);
            cursor: pointer;
        }
        
        .color-option.active {
            border-color: var(--main-blue);
        }
        
        .color-blue {
            background-color: #1a73e8;
        }
        
        .color-yellow {
            background-color: #fdd835;
        }
        
        .color-orange {
            background-color: #ff9800;
        }
        
        .product-info {
            padding: 20px;
            background-color: #fff;
            border-radius: var(--border-radius);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        .product-price {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 20px;
        }
        
        .product-action {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .btn {
            display: block;
            width: 100%;
            padding: 13px 0;
            border: none;
            border-radius: var(--border-radius);
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            text-align: center;
            text-decoration: none;
            transition: background-color 0.2s;
        }
        
        .btn-primary {
            background-color: var(--main-blue);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: var(--hover-blue);
        }
        
        .btn-secondary {
            background-color: var(--light-blue);
            color: var(--main-blue);
        }
        
        .btn-secondary:hover {
            background-color: var(--light-hover-blue);
        }
        
        .product-options {
            margin-top: 20px;
        }
        
        .option-item {
            display: flex;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid var(--border-color);
            text-decoration: none;
            color: var(--text-color);
        }
        
        .option-item:last-child {
            border-bottom: none;
        }
        
        .option-icon {
            margin-right: 10px;
            font-size: 18px;
            color: var(--text-color);
        }
        
        .option-text {
            font-size: 14px;
            color: var(--text-color);
            border-bottom: 1px dashed var(--border-color);
        }
        
        .product-disclaimer {
            margin-top: 20px;
            font-size: 12px;
            color: var(--text-gray);
        }
        
        .product-specs {
            margin-top: 20px;
        }
        
        .specs-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .specs-list {
            list-style: none;
        }
        
        .specs-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 14px;
        }
        
        .specs-name {
            color: var(--text-gray);
        }
        
        .specs-value {
            font-weight: 500;
        }
        
        .product-description {
            margin-top: 20px;
        }
        
        .description-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .description-text {
            font-size: 14px;
            color: var(--text-color);
            margin-bottom: 10px;
        }
        
        .description-link {
            display: inline-block;
            margin-top: 10px;
            color: var(--main-blue);
            text-decoration: none;
            font-size: 14px;
            border-bottom: 1px dashed var(--main-blue);
        }
        
        /* Installment Payment Styles */
        .installment-payment-block {
            display: flex;
            align-items: center;
            padding: 13px 15px;
            background-color: var(--light-blue);
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .installment-payment-block:hover {
            background-color: var(--light-hover-blue);
        }
        
        .installment-icon {
            width: 26px;
            height: 26px;
            min-width: 26px;
            background-color: var(--main-blue);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            color: white;
        }
        
        .installment-info {
            flex-grow: 1;
        }
        
        .installment-title {
            font-size: 14px;
            margin-bottom: 2px;
        }
        
        .installment-highlight {
            font-weight: 600;
            color: var(--main-blue);
        }
        
        .installment-monthly {
            font-size: 12px;
            color: var(--text-gray);
        }
        
        .installment-arrow {
            margin-left: 10px;
            font-size: 18px;
            color: var(--main-blue);
        }
        
        /* Modal Styles - Updated to match the screenshot */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .modal {
            background-color: #fff;
            border-radius: 12px;
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            padding: 0;
        }
        
        .modal-header {
            position: relative;
            padding: 16px 20px;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .modal-title {
            font-size: 18px;
            font-weight: 600;
            margin: 0;
            color: var(--text-color);
        }
        
        .close-modal {
            position: absolute;
            top: 16px;
            right: 20px;
            cursor: pointer;
            font-size: 24px;
            color: #999;
            background: none;
            border: none;
            padding: 0;
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .product-modal-info {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .product-modal-image {
            width: 70px;
            height: 70px;
            background-color: var(--light-gray);
            border-radius: 4px;
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            overflow: hidden;
        }
        
        .product-modal-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .product-modal-details {
            flex-grow: 1;
        }
        
        .product-modal-name {
            font-size: 14px;
            font-weight: 500;
            color: var(--text-color);
            margin-bottom: 5px;
            line-height: 1.4;
        }
        
        .product-modal-price {
            font-size: 16px;
            font-weight: 600;
            color: var(--main-blue);
        }
        
        .slider-section {
            margin-bottom: 15px;
        }
        
        .slider-label {
            font-size: 14px;
            color: var(--text-gray);
            margin-bottom: 15px;
        }
        
        .slider-container {
            margin-bottom: 10px;
        }
        
        .period-values {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 12px;
            color: var(--text-gray);
        }
        
        .noUi-target {
            height: 4px;
            border-radius: 2px;
            border: none;
            box-shadow: none;
            background-color: #e0e0e0;
        }
        
        .noUi-connect {
            background-color: var(--main-blue);
        }
        
        .noUi-handle {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background-color: var(--main-blue);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            border: 2px solid white;
            cursor: pointer;
            top: -7px;
            right: -9px !important;
        }
        
        .noUi-handle:before, 
        .noUi-handle:after {
            display: none;
        }
        
        .payment-block {
            background-color: #fafafa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .today-payment {
            margin-bottom: 5px;
        }
        
        .today-payment-label {
            font-size: 14px;
            color: var(--purple);
        }
        
        .today-payment-value {
            font-size: 28px;
            font-weight: 600;
            color: var(--purple);
            margin-bottom: 5px;
        }
        
        .monthly-payment-info {
            font-size: 14px;
            color: var(--text-gray);
            margin-bottom: 5px;
        }
        
        .monthly-payment-value {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .no-markup {
            font-size: 14px;
            color: var(--purple);
        }
        
        .price-details {
            margin-bottom: 20px;
        }
        
        .price-row {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            color: var(--text-gray);
            margin-bottom: 5px;
        }
        
        .add-to-cart-button {
            display: block;
            width: 100%;
            padding: 14px;
            background-color: var(--purple);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .add-to-cart-button:hover {
            background-color: #9c00df;
        }
        
        .how-it-works {
            margin-bottom: 20px;
        }
        
        .how-it-works-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .how-it-works-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-color);
        }
        
        .more-details-link {
            font-size: 14px;
            color: var(--main-blue);
            text-decoration: none;
        }
        
        .how-it-works-list {
            list-style: none;
        }
        
        .how-it-works-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 10px;
            font-size: 14px;
            color: var(--text-gray);
        }
        
        .how-it-works-icon {
            color: var(--purple);
            margin-right: 10px;
            font-size: 16px;
        }
        
        /* Responsive styles */
        @media (max-width: 768px) {
            .product-content {
                grid-template-columns: 1fr;
            }
            
            .product-info {
                max-width: 100%;
            }
            
            .modal {
                max-width: 95%;
                max-height: 95vh;
            }
            
            .modal-header, 
            .modal-body {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="wrapper">
        <div class="product-card">
            <div class="product-header">
                <div>
                    <div class="product-badges">
                        <span class="product-badge product-badge-hit">Хит</span>
                        <span class="product-badge product-badge-new">Новинка</span>
                    </div>
                    <h1 class="product-title">PROGASI Palma 250</h1>
                    <div class="product-meta">
                        <div class="product-rating">
                            <span>0</span>
                            <span>Нет отзывов</span>
                        </div>
                        <div class="product-article">
                            Арт. progasi-palma-250-blue
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="product-content">
                <div class="product-gallery">
                    <img src="https://amoto.by/upload/iblock/5f1/90jxagn57mv24vkths7kxhg6mbf4x8fn/palma_250_se_blue.jpg" alt="PROGASI Palma 250" class="product-image">
                    
                    <div class="product-colors">
                        <div class="color-title">Альтернативный цвет: Синий</div>
                        <div class="color-options">
                            <div class="color-option color-blue active"></div>
                            <div class="color-option color-yellow"></div>
                            <div class="color-option color-orange"></div>
                        </div>
                    </div>
                    
                    <div class="product-specs">
                        <h3 class="specs-title">Характеристики</h3>
                        <ul class="specs-list">
                            <li class="specs-item">
                                <span class="specs-name">Модель</span>
                                <span class="specs-value">palma 250</span>
                            </li>
                            <li class="specs-item">
                                <span class="specs-name">Цвет</span>
                                <span class="specs-value">Синий</span>
                            </li>
                            <li class="specs-item">
                                <span class="specs-name">Вес, кг</span>
                                <span class="specs-value">109</span>
                            </li>
                            <li class="specs-item">
                                <span class="specs-name">Тактность</span>
                                <span class="specs-value">4-х тактный</span>
                            </li>
                        </ul>
                        <a href="#" class="description-link">Все характеристики</a>
                    </div>
                    
                    <div class="product-description">
                        <h3 class="description-title">Описание</h3>
                        <p class="description-text">Вы готовы открыть для себя Эндуро в классе 250cc? PROGASI Palma 250 – ваш входной билет!</p>
                        <a href="#" class="description-link">Все описание</a>
                    </div>
                </div>
                
                <div class="product-info">
                    <div class="product-price">6 500 руб.</div>
                    
                    <div class="product-action">
                        <button class="btn btn-primary">В корзину</button>
                        <button class="btn btn-secondary">Купить в 1 клик</button>
                        
                        <!-- Блок оплаты частями -->
                        <div class="installment-payment-block" id="openModalBtn">
                            <div class="installment-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <polyline points="12 6 12 12 16 14"></polyline>
                                </svg>
                            </div>
                            <div class="installment-info">
                                <div class="installment-title">
                                    Оплата частями: <span class="installment-highlight">0 руб. сегодня</span>
                                </div>
                                <div class="installment-monthly">
                                    От 135,42 руб. в месяц потом
                                </div>
                            </div>
                            <div class="installment-arrow">
                                &rsaquo;
                            </div>
                        </div>
                    </div>
                    
                    <div class="product-options">
                        <a href="#" class="option-item">
                            <div class="option-icon">🚚</div>
                            <div class="option-text">Рассчитать доставку</div>
                        </a>
                        <a href="#" class="option-item">
                            <div class="option-icon">💰</div>
                            <div class="option-text">Нашли дешевле?</div>
                        </a>
                        <a href="#" class="option-item">
                            <div class="option-icon">🎁</div>
                            <div class="option-text">Хочу в подарок</div>
                        </a>
                        <a href="#" class="option-item">
                            <div class="option-icon">⏱️</div>
                            <div class="option-text">Гарантия 1 год</div>
                        </a>
                    </div>
                    
                    <div class="product-disclaimer">
                        Цена действительна только для интернет-магазина и может отличаться от цен в розничных магазинах
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Модальное окно оплаты частями - Обновленный дизайн по скриншоту -->
    <div class="modal-overlay" id="installmentModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Оплата частями</h3>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Информация о товаре -->
                <div class="product-modal-info">
                    <div class="product-modal-image">
                        <img src="https://amoto.by/upload/iblock/5f1/90jxagn57mv24vkths7kxhg6mbf4x8fn/palma_250_se_blue.jpg" alt="PROGASI Palma 250">
                    </div>
                    <div class="product-modal-details">
                        <div class="product-modal-name">PROGASI Palma 250</div>
                        <div class="product-modal-price">6 500 руб.</div>
                    </div>
                </div>
                
                <!-- Первый слайдер: первоначальный платеж -->
                <div class="slider-section">
                    <div class="slider-label">
                        Первоначальный платеж: <span id="initialPaymentPercent">0%</span>
                    </div>
                    <div class="slider-container">
                        <div id="initialPaymentSlider"></div>
                    </div>
                </div>
                
                <!-- Второй слайдер: период оплаты -->
                <div class="slider-section">
                    <div class="slider-label">
                        Период оплаты: <span id="periodValue">6 месяцев</span>
                    </div>
                    <div class="slider-container">
                        <div id="periodSlider"></div>
                    </div>
                    <div class="period-values">
                        <span>2</span>
                        <span>3</span>
                        <span>4</span>
                        <span>5</span>
                        <span>6</span>
                        <span>12</span>
                        <span>18</span>
                        <span>24</span>
                        <span>36</span>
                        <span>60</span>
                    </div>
                </div>
                
                <!-- Блок информации о платеже -->
                <div class="payment-block">
                    <div class="today-payment">
                        <div class="today-payment-label">Оплата сегодня</div>
                        <div class="today-payment-value" id="todayPayment">0 р.</div>
                    </div>
                    <div class="monthly-payment-info">
                        Далее <span id="monthlyPaymentCount">6</span> ежемесячных платежей
                    </div>
                    <div class="monthly-payment-value" id="monthlyPayment">1 136,15 р.</div>
                    <div class="no-markup">без переплат</div>
                </div>
                
                <!-- Детали цен -->
                <div class="price-details">
                    <div class="price-row">
                        <div>Текущая цена</div>
                        <div id="currentPrice">6 500 руб.</div>
                    </div>
                    <div class="price-row">
                        <div>Цена при оплате частями</div>
                        <div id="installmentPrice">6 500 руб.</div>
                    </div>
                </div>
                
                <!-- Кнопка добавления в корзину -->
                <button class="add-to-cart-button">Добавить в корзину</button>
                
                <!-- Как это работает -->
                <div class="how-it-works">
                    <div class="how-it-works-header">
                        <div class="how-it-works-title">Как это работает?</div>
                        <a href="#" class="more-details-link">Подробнее</a>
                    </div>
                    <ul class="how-it-works-list">
                        <li class="how-it-works-item">
                            <span class="how-it-works-icon">✓</span>
                            <span>Доступно для заказов от 100 р.</span>
                        </li>
                        <li class="how-it-works-item">
                            <span class="how-it-works-icon">✓</span>
                            <span>Без первого взноса</span>
                        </li>
                        <li class="how-it-works-item">
                            <span class="how-it-works-icon">✓</span>
                            <span>Без поручителя и справки о доходах</span>
                        </li>
                        <li class="how-it-works-item">
                            <span class="how-it-works-icon">✓</span>
                            <span>Ответ от банка в течение 15 минут</span>
                        </li>
                        <li class="how-it-works-item">
                            <span class="how-it-works-icon">✓</span>
                            <span>Досрочное погашение без комиссии</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Получаем элементы для работы с модальным окном
            const openModalBtn = document.getElementById('openModalBtn');
            const installmentModal = document.getElementById('installmentModal');
            const closeModal = document.getElementById('closeModal');
            
            // Открытие модального окна
            openModalBtn.addEventListener('click', function() {
                installmentModal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            });
            
            // Закрытие модального окна
            function closeModalWindow() {
                installmentModal.style.display = 'none';
                document.body.style.overflow = '';
            }
            
            closeModal.addEventListener('click', closeModalWindow);
            
            // Закрытие модального окна при клике вне его
            installmentModal.addEventListener('click', function(event) {
                if (event.target === installmentModal) {
                    closeModalWindow();
                }
            });
            
            // Инициализация слайдера первоначального платежа
            const initialPaymentSlider = document.getElementById('initialPaymentSlider');
            noUiSlider.create(initialPaymentSlider, {
                start: 0,
                connect: [true, false],
                step: 10,
                range: {
                    'min': 0,
                    'max': 50
                }
            });
            
            // Инициализация слайдера срока платежа
            const periodSlider = document.getElementById('periodSlider');
            const periodValues = [2, 3, 4, 5, 6, 12, 18, 24, 36, 60];
            noUiSlider.create(periodSlider, {
                start: 4, // Индекс для значения 6 месяцев
                connect: [true, false],
                step: 1,
                range: {
                    'min': 0,
                    'max': periodValues.length - 1
                }
            });
            
            // Обновление значений при изменении слайдеров
            const productPrice = 6500; // Цена товара
            const markup = 0; // Без наценки, как на скриншоте
            
            // Элементы для обновления
            const initialPaymentPercent = document.getElementById('initialPaymentPercent');
            const periodValue = document.getElementById('periodValue');
            const todayPayment = document.getElementById('todayPayment');
            const monthlyPayment = document.getElementById('monthlyPayment');
            const monthlyPaymentCount = document.getElementById('monthlyPaymentCount');
            const currentPrice = document.getElementById('currentPrice');
            const installmentPrice = document.getElementById('installmentPrice');
            const installmentMonthly = document.querySelector('.installment-monthly');
            
            // Функция обновления расчетов
            function updateCalculations() {
                // Получение значений со слайдеров
                const initialPercent = parseFloat(initialPaymentSlider.noUiSlider.get());
                const periodIndex = Math.round(parseFloat(periodSlider.noUiSlider.get()));
                const period = periodValues[periodIndex];
                
                // Расчет платежей
                const initialPaymentAmount = (initialPercent / 100) * productPrice;
                const remainingAmount = productPrice - initialPaymentAmount;
                const totalWithMarkup = remainingAmount * (1 + markup / 100);
                const monthlyAmount = totalWithMarkup / period;
                const totalPrice = initialPaymentAmount + totalWithMarkup;
                
                // Обновление отображения
                initialPaymentPercent.textContent = initialPercent + '%';
                periodValue.textContent = period + getPeriodText(period);
                todayPayment.textContent = initialPaymentAmount.toFixed(0) + ' р.';
                monthlyPayment.textContent = monthlyAmount.toFixed(2).replace('.', ',') + ' р.';
                monthlyPaymentCount.textContent = period;
                currentPrice.textContent = formatCurrency(productPrice);
                installmentPrice.textContent = formatCurrency(productPrice); // Без наценки
                
                // Расчет минимального ежемесячного платежа для кнопки
                const minMonthlyPayment = productPrice / 60; // 60 месяцев максимальный период
                installmentMonthly.textContent = 'От ' + minMonthlyPayment.toFixed(2).replace('.', ',') + ' руб. в месяц потом';
            }
            
            // Форматирование валюты
            function formatCurrency(amount) {
                return amount.toFixed(0) + ' руб.';
            }
            
            // Получение склонения для периода
            function getPeriodText(period) {
                const lastDigit = period % 10;
                const lastTwoDigits = period % 100;
                
                if (lastTwoDigits >= 11 && lastTwoDigits <= 14) {
                    return ' месяцев';
                }
                
                if (lastDigit === 1) {
                    return ' месяц';
                }
                
                if (lastDigit >= 2 && lastDigit <= 4) {
                    return ' месяца';
                }
                
                return ' месяцев';
            }
            
            // Обработчики изменения слайдеров
            initialPaymentSlider.noUiSlider.on('update', updateCalculations);
            periodSlider.noUiSlider.on('update', updateCalculations);
            
            // Инициализация расчетов
            updateCalculations();
            
            // Обработчики для цветовых опций
            const colorOptions = document.querySelectorAll('.color-option');
            colorOptions.forEach(option => {
                option.addEventListener('click', function() {
                    colorOptions.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            // Обработчик для кнопки "Добавить в корзину" в модальном окне
            const addToCartButton = document.querySelector('.add-to-cart-button');
            addToCartButton.addEventListener('click', function() {
                alert('Товар добавлен в корзину с выбранными параметрами оплаты частями!');
                closeModalWindow();
            });
        });
    </script>
</body>
</html>